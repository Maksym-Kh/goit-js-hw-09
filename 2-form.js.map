{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const refs = {\n    feedbackForm: document.querySelector(\".feedback-form\"),\n}\n// ств обєкт в якому буду значення \nlet formData = { email: '', message: '' };\n\n\nconst formDataValidation = () => {\n    // виклик властивості фідбек-форм-стейт якщо її нема то запишеться налл і парсим щоб з ним працювати\n    const formDataFromLS = JSON.parse(localStorage.getItem('feedback-form-state'));\n\n    if (formDataFromLS === null) {\n        refs.feedbackForm.elements.email.value = formData.email;\n        refs.feedbackForm.elements.message.value = formData.message;\n        return;\n}\n\n    // console.log(formDataFromLS);\n\n    // кожен раз значення обєкта при запуску ств пустий обєкт. записуєи значення ключа фідбек-форм-стейт в обєкт\n    formData = formDataFromLS;\n\n    // дістаєм ключі відпарсиного властивості\n    const formDataFromLSKeys = Object.keys(formDataFromLS);\n\n    // console.log(formDataFromLSKeys);\n\n    // перебираєм на кожній ітерації і записуєм значення властивості ключа  в значення вл ключа форми \n    formDataFromLSKeys.forEach(key => {\n        refs.feedbackForm.elements[key].value = formDataFromLS[key];\n    });\n\n}\n\nformDataValidation();\n\n\n// console.log(refs.feedbackForm.elements);\n\n    // деструктуризація діставєм вл таргет для змінної формфілд\nconst formHandle = ({target: formField}) => {\n    // вміст значення формфілд і також обрізаєм лишні пробіли\n    const formFieldValue = formField.value.trim();\n    // зчитуєм знач атрибута щоб в формдаті не перезаписувався рядок і додавався \n    const formFieldName = formField.name;\n\n\n    // записуєм для передавання даних ключ як назва атрибута а значення як значення поточного ел\n    formData[formFieldName] = formFieldValue;\n    // console.log(formData);\n    \n// записуєм в локал з назваою ключа фідбек-форм-стейт і значенням обєкт з валідним рядком джсон формата \n    localStorage.setItem(\"feedback-form-state\", JSON.stringify(formData))\n}\n\n\n\nconst buttonHandle = evt => {\n    evt.preventDefault();\n    // console.log(\"gh\");\n\n    if (!formData.email || !formData.message) {\n    return alert(\"Fill please all fields\");\n    }\n\n    console.log(formData);\n    // formData = { email: '', message: '' };\n\n    formData.email = '';\n    formData.message = '';\n\n    evt.target.reset();\n    localStorage.removeItem(\"feedback-form-state\");\n}\n\nrefs.feedbackForm.addEventListener(\"input\", formHandle);\nrefs.feedbackForm.addEventListener(\"submit\", buttonHandle);"],"names":["refs","formData","formDataValidation","formDataFromLS","key","formHandle","formField","formFieldValue","formFieldName","buttonHandle","evt"],"mappings":"wFAAA,MAAMA,EAAO,CACT,aAAc,SAAS,cAAc,gBAAgB,CACzD,EAEA,IAAIC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAGvC,MAAMC,EAAqB,IAAM,CAE7B,MAAMC,EAAiB,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAE7E,GAAIA,IAAmB,KAAM,CACzBH,EAAK,aAAa,SAAS,MAAM,MAAQC,EAAS,MAClDD,EAAK,aAAa,SAAS,QAAQ,MAAQC,EAAS,QACpD,MACR,CAKIA,EAAWE,EAGgB,OAAO,KAAKA,CAAc,EAKlC,QAAQC,GAAO,CAC9BJ,EAAK,aAAa,SAASI,CAAG,EAAE,MAAQD,EAAeC,CAAG,CAClE,CAAK,CAEL,EAEAF,IAMA,MAAMG,EAAa,CAAC,CAAC,OAAQC,CAAS,IAAM,CAExC,MAAMC,EAAiBD,EAAU,MAAM,KAAI,EAErCE,EAAgBF,EAAU,KAIhCL,EAASO,CAAa,EAAID,EAI1B,aAAa,QAAQ,sBAAuB,KAAK,UAAUN,CAAQ,CAAC,CACxE,EAIMQ,EAAeC,GAAO,CAIxB,GAHAA,EAAI,eAAc,EAGd,CAACT,EAAS,OAAS,CAACA,EAAS,QACjC,OAAO,MAAM,wBAAwB,EAGrC,QAAQ,IAAIA,CAAQ,EAGpBA,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAEnBS,EAAI,OAAO,QACX,aAAa,WAAW,qBAAqB,CACjD,EAEAV,EAAK,aAAa,iBAAiB,QAASK,CAAU,EACtDL,EAAK,aAAa,iBAAiB,SAAUS,CAAY"}